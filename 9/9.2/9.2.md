# 9.2. Vistas


# Modulo 2

Creación de la Vista: Permite visualizar qué mesas están actualmente disponibles (Asignación de Mesa)
```sql
CREATE VIEW DISPONIBILIDAD_MESA
AS
SELECT  me.cod_mesa, 
		me.cod_tipo_de_mesa,
		dp.cod_estado_dp estado_mesa,
		CASE 
			WHEN dp.cod_estado_dp is NULL OR dp.cod_estado_dp = 'TD' THEN 'DISPONIBLE'
			ELSE 'NO DISPONIBLE'
		END AS DISPONIBILIDAD
from MESA me
LEFT JOIN DETALLE_PEDIDO dp
on me.cod_mesa = dp.cod_mesa;
```

Query para la Asignación de Mesa
```sql
select * from DISPONIBILIDAD_MESA
where disponibilidad != 'DISPONIBLE'
```


# Módulo 5:
Creación de la vista: Permite ver el contenido de una orden de compra para el supervisor de cantidad, solo se mostrará la información
```sql
create view contenido_orden
as
select i.nombre_insumo, um.nombre_unidad, oc.cantidad_compra, oc.cod_ordencompra from orden_comprainsumo oc 
inner join insumo i on oc.cod_insumo = i.cod_insumo 
inner join unidad_medidad um on um.cod_unidad = i.cod_unidad 
```
Query para mostrar el contenido de la orden:
```sql
select nombre_insumo, nombre_unidad, cantidad_compra from contenido_orden
where cod_ordencompra = 23
```
Se filtra por la orden de compra seleccionada.